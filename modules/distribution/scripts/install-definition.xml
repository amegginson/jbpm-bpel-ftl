<?xml version="1.0" encoding="iso-8859-1" standalone="yes" ?>

<installation version="1.0">
  <!-- Ant properties in this file can be referenced with @{},
    otherwise use variables below in installer files with ${} -->
  <info>
    <appname>@{product.name}</appname>
    <appversion>@{product.version}</appversion>
    <uninstaller name="remove.task" write="yes" />
  </info>

  <guiprefs width="600" height="480" resizable="no">
    <laf name="kunststoff">
      <os family="unix" />
    </laf>
    <!-- 
    <modifier key="useHeadingPanel" value="yes" />
    <modifier key="useHeadingForSummary" value="yes" />
    <modifier key="headingImageOnLeft" value="yes" />
    <modifier key="headingLineCount" value="2" />
    <modifier key="headingFontSize" value="1.5" />
    <modifier key="headingBackgroundColor" value="0x00ffffff" />
    <modifier key="headingPanelCounter" value="text" />
    <modifier key="headingPanelCounterPos" value="inHeading" />
    -->
  </guiprefs>

  <locale>
    <langpack iso3="eng" />
  </locale>

  <!-- Need to define ant properties we want to use during install as variables -->
  <variables>
    <variable name="UserPathPanelVariable" value="@{jboss422.home}" />
  </variables>

  <resources>
    <res id="TargetPanel.dir" src="@{filtered.resources.dir}/target-panel-dir.txt"/>
  </resources>

  <panels>
    <panel classname="HelloPanel" />
    <panel classname="TargetPanel" />
    <panel classname="TreePacksPanel" />
    <panel classname="SummaryPanel" />
    <panel classname="InstallPanel" />
    <panel classname="FinishPanel" />
  </panels>

  <packs>
    <!-- jBPM Main Components -->
    <pack name="jBPM3" required="yes" installGroups="Main">
      <description>The jBPM Main Components</description>
      <fileset dir="@{deploy.artifacts.dir}/lib" targetdir="$INSTALL_PATH/server/@{jboss.server.instance}/deploy/jbpm" >
        <include name="jbpm-api.jar"/>
        <include name="jbpm-jbpm4jsf.jar"/>
        <include name="jbpm-jpdl-core.jar"/>
        <include name="jbpm-jpdl-identity.jar"/>
        <include name="jbpm-jpdl-integration.jar"/>
      </fileset>
    </pack>
    
    <!-- jBPM Console -->
    <pack name="jBPM3 Console" required="no" installGroups="Main">
      <description>The jBPM Console</description>
      <file src="@{deploy.artifacts.dir}/lib/jbpm-console.war" targetdir="$INSTALL_PATH/server/@{jboss.server.instance}/deploy/jbpm" />
    </pack>
    
    <!-- jBPM BAM Console -->
    <pack name="jBPM3 BAM Console" required="no" installGroups="Main">
      <description>The jBPM BAM Console</description>
      <file src="@{deploy.artifacts.dir}/lib/jbpm-bam-console.ear" targetdir="$INSTALL_PATH/server/@{jboss.server.instance}/deploy/jbpm" />
    </pack>
    
    <!-- jBPM Hypersonic Database -->
    <pack name="jBPM3 Hypersonic Database Scripts" required="no" installGroups="Main">
      <description>The Hypersonic Database Scripts</description>
      <fileset dir="@{resources.dir}/database/hypersonic" targetdir="$INSTALL_PATH/server/@{jboss.server.instance}/data" >
        <include name="hypersonic/**"/>
      </fileset>
      <fileset dir="@{resources.dir}/database/hypersonic" targetdir="$INSTALL_PATH/server/@{jboss.server.instance}/deploy/jbpm" >
        <include name="jbpm-ds.xml"/>
      </fileset>
    </pack>
  </packs>

</installation>
