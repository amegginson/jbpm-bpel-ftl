<html>
<body>
<h1>customTaskInstance</h1>


<p>This example shows how to extend the TaskInstance by adding a custom property.</p>

<p>To create this example in Eclipse, you should first have created a project for jbpm.3 in your workspace. Use the New -> Java Project and uncheck Use Default Location and browse to the jbpm-jpdl-{version}/examples/customTaskInstance directory and give it the project name customTaskInstance. Go to the customTaskInstance project Build Path Source tab add folders customTaskInstance/src/config, customTaskInstance/src/identity and customTaskInstance/src/jpdl Projects Tab to add jbpm.3. Use the Libraries tab and add hibernat3.jar and junti.jar from jbpm.3 lib directory. This should result in a clean compilation (no errors).

<p>This example consists of the following files:</p>

<ul>src/main/java/CustomTaskControllerHandler.java - extracts information from the process context and initializes the task instance variables. In this example this is the variable "customId".</ul>

<ul>src/main/java/CustomTaskInstance.java - extends TaskInstance and adds the property customId, along with its getters and setters.</ul>

<ul>src/main/java/CustomTaskInstanceFactoryImpl.java - creates instances of CustomTaskInstance.</ul>

<ul>src/main/java/CustomTaskInstance.hbm.xml - defines the Hibernate mapping for CustomTaskInstance.</ul>

<ul>src/test/java/CustomTaskInstanceTest.java - JUnit test case for CustomTaskInstance example.</ul>

<ul>src/main/config/hibernate.xml - adds the CustomTaskInstance.hbm.xml file to the standard jBPM hibernate.xml file.</ul>

<ul>src/main/config/jbpm.cfg.xml - replaces the bean name="jbpm.task.instance.factory" property values with  class="com.sample.taskinstance.CustomTaskInstanceFactoryImpl".  CustomTaskInstanceTest.java adds this jbpm.cfg.xml file programatically.</ul>

<ul>src/main/jpdl/* - contains the processdefinition. Notice the assignment and the CustomTaskController specified on the task.</ul>

<p>To run the example, run the CustomTaskInstanceTest.java as a JUnit test.</p>

</body>
</html>
